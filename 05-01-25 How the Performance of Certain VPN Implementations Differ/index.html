<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/monokai.min.css"
  />
    <link rel="stylesheet" href="./style.css">
    <title>How the Performance of Certain VPN Implementations Differ</title>
</head>
<style>
    .hljs {
      background-color: transparent;
    }

    .hljs-ln-n {
      padding-right: 1rem;
    }
  </style>
<body>


    <section class="container" style="max-width: 750px; margin: 0 auto">

        <article>
            <header class="header">
                <h1 class="topic">What are Virtural Private Netowrks (VPNs)</h1>
                <div class="line"></div>
            </header>            
            <p class="paragraph">A Virture Private Network is a technology used to extend a Private Network through the internet so that authrised users (usually with a shared secret such as a password) may have access to it as if they where directly connected. It makes these "authrised users" appear directly connected to the Private Network even tho they are throusands of miles and many router hops away.</p>

            <div>
              <p class="sub-header">VPN Tunnel</p>
              <p class="paragraph">This type of connections are acheve using secure, encripted “tunnels” called VPN tunnels. They are refferted to as tunnels because they are established between two enpoint. If two routers have tunneling configured, it is possible to send encripted packets that might not be support over the general internet between them. If setup correct these tunnels provide:</p>
                <ul class="paragraph">
                  <li>"privacy" by not exposing the private network to the public Internet</li>
                  <li>"security" by encripting the packets shared thought the tunnes. Any body that get asscc to encripted packets will not be able to read them. Only authrised users can read the packets.</li>
                  <li>"data intergrity" through mechnisims that dectect if data was termpered with during transport.</li>
                </ul>
                <p class="paragraph">
                Any network running such tunnel is running a Virture Private Network or VPN. More on VPN tunnels later. </p>
            </div>

            <div>
              <p class="sub-header">Types of VPN Tunnelling</p>
              <ul class="paragraph">
                <li>Host-to-network or Remote access tunneling: Allows individual users to connect securely to a private network. Common for remote workers that need access to private compnaey files.</li>

                <li>Site-to-site tunneling: Connects entire networks. Common for Compnaies with diffrent offices in diffrent locations.</li>

                <li>Split tunneling: Routes only specific traffic through the VPN, while other traffic goes directly to the internet. Useful for balancing security and speed.</li>

                <li>Full tunneling: Routes all trafic through the VPN. Provides maximum privacy and security.</li>
              </ul>
            </div>

            <div>
              <p class="sub-header">A real world example of when VPN are used</p>
              <p class="paragraph" style="margin-bottom: 0;">Suppose that a company has offices in Chicago, New York, and Miami. With each of this offices having their own local ISP [Internet Service Provied]. The compnay can employ VPN solutions to create a secure and private "VPN tunnel" connecting each offies, ensuring secure communication and resource sharing among them instead of shearing company's data directly over the public and untrusted internet.</p>
              <p class="paragraph">VPNs provided the same solution for remote workers working from home or a diffrent location.</p>
            </div>

            <blockquote class="definition">
              <p class="quote-paragraph">
                  Side Note: VPN provide securty between two enpoint, it doest not secure the enpoint them self. This is a urge security risk on it own because every enpoint with access to your VPN has access to your Private Network. Other sercurty major will be needed to provide enpoint point security.
              </p>
            </blockquote>

            <div>
              <p class="sub-header">The rest of this article</p>
              <p class="paragraph">Like many things in life, VPNs come with both advantages and disadvantages. One notable drawback is the latency and reduced network performance and speed they can introduce. Over the years, various VPN implementations have emerged, aiming to address these challenges.</p>
              <p class="paragraph">This article delves into various state-of-the-art VPN implementations to evaluate the degree of performance degradation they experience. It is based on a 2019 study conducted by Thomas Fischer at the University of Skövde. The research question is as follow: <br> <span class="important-text">How does the performance differ between state-of-the-art VPN solutions under stable versus unreliable
                network conditions?</span></p>
            </div>
        </article>


        <article>
          <header class="header">
            <h1 class="topic">Different VPN solutions</h1>
            <div class="line"></div>
          </header>
          <p class="paragraph">There are dozens of diffrent VPN solutions out there. But 3 stand out as the most popular and are used for this study including: </p>
          <ul class="paragraph">
            <li class="bold">IPSec (IP Security Protocol)</li>
            <li class="bold">OpenVPN</li>
            <li class="bold">WireGuard</li>
          </ul>
          
          <div>
            <p class="sub-header">IPsec (IP Security Protocol)</p>
            <p class="paragraph">IPSec was standardized by the Internet Engeenring Task Force (IETF) in 1995. It IPsec was originally developed for IPv6, but it has also been widely implemented for IPv4. IPsec is an IETF approved, end-to-end authentication and encryption system. Almost all serious VPN vendors ship a product that has at least an IPsec compatibility mode. Linux, Solaris, HP-UX, and AIX all include native kernel support for IPsec.</p>
            <p class="paragraph">In tunnel mode, IPsec encrypts the transport layer header, which includes the
              source and destination port numbers. Unfortunately, this scheme conflicts with
              the way in which most firewalls work. For this reason, most modern implementa-
              tions default to using transport mode, in which only the payloads of packets (the
              data being transported) are encrypted.</p>
          </div>

          <div>
            <p class="sub-header">OpenVPN</p>
            <p class="paragraph">OpenVPN has become the de facto standard in VPNs today with more than 50 million downloads since its release in 2001 (OpenVPN, 2019). It uses SSL/TLS for key exchange and encryption. OpenVPN is open source, it is secure by the extensive scrutiny it gets by being accessible to anyone who wishes to review the code. In 2017 an independent review of OpenVPN was performed by Cryptography Engineering (Hopkins and Green, 2019), the results found no major vulnerabilities. It supports both TCP and UDP but defaults at UDP. UDP is faster but does not perform error correction as TCP. OpenVPN is fully functional on Windows, macOS and Linux. There is plenty of ciphers and encryption methods to choose from.</p>
          </div>

          <div>
            <p class="sub-header">WireGuard</p>
            <p class="paragraph">WireGuard is the name of a new VPN that aims to replace two of the most widely used VPN solutions, namely OpenVPN and IPSec (Donenfeld, 2018). It claims to be more useful than IPSec while avoiding the complexity of it and by having better performance than OpenVPN. It was originally written for Linux systems but is now available across more platforms. It is also open source like OpenVPN and IPSec, so it also benefits of being open to view for anyone with the knowledge to audit it. It is a design goal to have an overall straight forward configuration like SSH, i.e asymmetric key cryptography. Wireguard is currently UDP only (Donenfeld, 2018).</p>
          </div>

          <p class="paragraph"><span class="bold">Some other VPN Solutions include:</span> PPTP (Point to Point Tunneling Protocol), SSTP (Secure Socket Tunneling Protocol), OpenSSH (Open Secure Shell)</p>
          
        </article>

        <article>
            <header class="header">
                <h1 class="topic">Network Performance Metrics</h1>
                <div class="line"></div>
            </header>            
            <p class="paragraph">The metrics used when testing networks are: <span class="important-text">throughput</span>, <span class="important-text">latency</span> and <span class="important-text">packet loss</span></p>

            <ul class="paragraph">
              <li><span class="bold">Throughput</span>: is how much data is sent from one point to another during a certain time frame. Throughput is usually measured in bits per second (bps). It is affected by the whole infrastructure of the channel such as the physical medium (cabling) and computational power among other factors.</li>

              <li><span class="bold">Latency</span>: is defined as the time it takes to transmit a packet in one direction, for example client to server. In VPN testing latency is in a time value, usually measured in seconds milliseconds (ms).</li>

              <li><span class="bold">Packet loss</span>: is a metric that refers to how many packets are “lost” i.e did not arrive from source to destination. This can be caused due to congestion on the network for example. It is measured as a percentage of packet lost with respect to packets sent.</li>
            </ul>

            <p class="sub-header">Unreliability handling</p>
            <p class="paragraph">Unreliability handling is a description of how the network handles disturbances. These disturbances may be artificial or natural such as high latency or packet loss. It can be quantifiable by limiting of the aforementioned metrics.</p>
            <p class="paragraph">An example is a Remote worker working with an Unreliabile network connection.The unreliability of a network could be a fluctuating connection such as cellular on a moving train that is traveling far from cities that have good infrastructure or traveling through mountains. It could also be a remote worker, who is working very far away from the office while requiring access to files across the world. This would add delay that is way above the usual packet transfer delay that one might expect while working with files that are on a server in the same building. Therefore it is important to investigate how the current VPNs compare on unreliable networks.</p>
        </article>

        <article>
          <header class="header">
              <h1 class="topic">Tool for Measuring</h1>
              <div class="line"></div>
          </header>
          
          <p class="paragraph">The tool for measuring them is <span class="important-text">iPerf</span>.</p>

          <p class="sub-header">iPerf</p>
          <p class="paragraph">iPerf was identified in related research as the tool to test the performance of VPNs. In a research by Narayan, Brooking and de Vere (2009), the authors used iPerf to measure the throughput on three different VPN solutions. The VPNs used in this research are PPTP, SSL (Secure Sockets Layer) and IPSec. While the study is outdated by now, the measure metrics are still valid for evaluation today. That research concluded that the network performance does indeed depend on what OS, VPN solution and encryption algorithm is chosen.</p>
        </article>


        <article>
          <header class="header">
              <h1 class="topic">Steps for the Experiment</h1>
              <div class="line"></div>
          </header>
          
          <p class="paragraph">To accuratly answer the experiment question ( <span class="important-text">How does the performance differ between state-of-the-art VPN solutions under stable versus unreliable
            network conditions?</span> ), we need to follow these steps: </p>
          
          <ol class="paragraph">
            <li><span class="important-text">Identify</span> what VPN solutions to experiment on, how to control traffic, what metrics to use, with which tools and what data to collect</li>
              <p class="paragraph">As metion ealiar, the 3 VPN solution use for this test are OpenVPN, WireGuard and IPSec. A very important fact is that the configurations of the VPN solutions are default For all VPN solutions, default configuration settings were kept as far as possible, rather than unifying the settings in respect to, for example, network protocols, cryptographic algorithms, or choices for compression.</p>
              <p class="paragraph">The analysis also presented what metrics to use in the testing. The lab set up was chosen to be as simple as possible but still having one server and one client per OS and to be able to control and monitor the network traffic. This was done to minimize outside impact on the network and to have as valid results as possible.</p>
              <p class="paragraph">Network metrics for examining the VPNs are: <br />
                - Throughput - Megabits per second (Mbps) <br />
                - 400 msec Delay (part 1 of unreliability) <br />
                - 1% Packet loss (part 2 of unreliability) <br />
              </p>
              <p class="paragraph">The tool used to measure network performance is iPerf3 (https://iperf.fr) version 3.1.3. The reason behind this is that it fulfills the need to test throughput and it contains the data transferred i.e it is possible to see how many packets did not arrive. Since iPerf is available for Windows, Linux and macOS, it is fitting for this experiment as it is being done on all three different OSs.</p>

            <li>Test the network in the experimental setup <span class="important-text">without any VPN   solution</span> to identify baseline performance</li>

            

            <li>Configure and test VPN Solutions <span class="important-text">on three different operating systems</span> with the network unreliability conditions</li>
            <p class="paragraph"><span class="bold">Trafic Shaping</span> was use to introduce the network unreliability conditions. The unreliability testing was achieved by utilizing the traffic shaping tool on the pfSense router. The traffic shaper tool was configured to add 400msec delay as one unreliability and 1% packet loss as the other.</p>
            <p class="paragraph">Since all the data between the VPN clients and server is routed through the router, it applies the traffic shaping both ways. All clients were tested with all three different setups, namely; baseline test which had no unreliability added. Unreliability #1 is the 400msec delay option and unreliability #2 is the 1% packet loss option.</p>



            <li><span class="important-text">Analyze and compare the results</span> to see if there is any indication of performance difference between the VPN solutions</li>
            </ol>

          
        </article>


        <article>
          <header class="header">
              <h1 class="topic">The Experiment</h1>
              <div class="line"></div>
          </header>
          
          
        </article>

    </section>

    
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>

    <script src="path/to/highlight.min.js"></script>
    <script src="path/to/highlightjs-line-numbers.min.js"></script>

    <script>
      hljs.highlightAll();
    </script>
    <script>
      hljs.initLineNumbersOnLoad();
    </script>

</body>
</html>